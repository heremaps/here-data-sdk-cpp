<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>olp-cpp-sdk: olp::cache::DefaultCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">olp-cpp-sdk
   &#160;<span id="projectnumber">1.16.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceolp.html">olp</a></li><li class="navelem"><b>cache</b></li><li class="navelem"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html">DefaultCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classolp_1_1cache_1_1DefaultCache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">olp::cache::DefaultCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A default cache that provides a memory LRU cache and persistence of cached key-value pairs.  
 <a href="classolp_1_1cache_1_1DefaultCache.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DefaultCache_8h_source.html">DefaultCache.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for olp::cache::DefaultCache:</div>
<div class="dyncontent">
<div class="center"><img src="classolp_1_1cache_1_1DefaultCache__inherit__graph.png" border="0" usemap="#aolp_1_1cache_1_1DefaultCache_inherit__map" alt="Inheritance graph"/></div>
<map name="aolp_1_1cache_1_1DefaultCache_inherit__map" id="aolp_1_1cache_1_1DefaultCache_inherit__map">
<area shape="rect" title="A default cache that provides a memory LRU cache and persistence of cached key&#45;value pairs." alt="" coords="12,80,183,107"/>
<area shape="rect" href="classolp_1_1cache_1_1KeyValueCache.html" title="An interface for a cache that expects a key&#45;value pair." alt="" coords="5,5,189,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for olp::cache::DefaultCache:</div>
<div class="dyncontent">
<div class="center"><img src="classolp_1_1cache_1_1DefaultCache__coll__graph.png" border="0" usemap="#aolp_1_1cache_1_1DefaultCache_coll__map" alt="Collaboration graph"/></div>
<map name="aolp_1_1cache_1_1DefaultCache_coll__map" id="aolp_1_1cache_1_1DefaultCache_coll__map">
<area shape="rect" title="A default cache that provides a memory LRU cache and persistence of cached key&#45;value pairs." alt="" coords="12,80,183,107"/>
<area shape="rect" href="classolp_1_1cache_1_1KeyValueCache.html" title="An interface for a cache that expects a key&#45;value pair." alt="" coords="5,5,189,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a4988be6ab65560dc9ceb8da6dbbb0341"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">StorageOpenResult</a> { <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341a72d18168a53d3ce7ed0ff8eafff31edd">Success</a>
, <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341a579665cceae447b9791c974dc1628607">OpenDiskPathFailure</a>
, <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341a4f035d10712bb9e6b95df733fef9ec56">ProtectedCacheCorrupted</a>
, <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341a9971133c6486f5ab31af8a199c0fcd9b">NotReady</a>
 }</td></tr>
<tr class="memdesc:a4988be6ab65560dc9ceb8da6dbbb0341"><td class="mdescLeft">&#160;</td><td class="mdescRight">The storage open result type.  <a href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">More...</a><br /></td></tr>
<tr class="separator:a4988be6ab65560dc9ceb8da6dbbb0341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103a09b4dec53cbefc6ee9415089c90c"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a> { <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90ca32567d9e5f2d66c9b326c45e800abcf6">kMutable</a>
, <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90ca29b22e010bf2edfbf57a7a03522a64c9">kProtected</a>
 }</td></tr>
<tr class="memdesc:a103a09b4dec53cbefc6ee9415089c90c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cache type.  <a href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">More...</a><br /></td></tr>
<tr class="separator:a103a09b4dec53cbefc6ee9415089c90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classolp_1_1cache_1_1KeyValueCache"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classolp_1_1cache_1_1KeyValueCache')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html">olp::cache::KeyValueCache</a></td></tr>
<tr class="memitem:a063a1e95dc46e75bce711cb782d923b1 inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="memItemLeft" align="right" valign="top"><a id="a063a1e95dc46e75bce711cb782d923b1"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a063a1e95dc46e75bce711cb782d923b1">ValueType</a> = std::vector&lt; unsigned char &gt;</td></tr>
<tr class="memdesc:a063a1e95dc46e75bce711cb782d923b1 inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value type that is stored in the DB. <br /></td></tr>
<tr class="separator:a063a1e95dc46e75bce711cb782d923b1 inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2246664173218bda21d66d0708e16e49 inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="memItemLeft" align="right" valign="top"><a id="a2246664173218bda21d66d0708e16e49"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a2246664173218bda21d66d0708e16e49">ValueTypePtr</a> = std::shared_ptr&lt; <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a063a1e95dc46e75bce711cb782d923b1">ValueType</a> &gt;</td></tr>
<tr class="memdesc:a2246664173218bda21d66d0708e16e49 inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="mdescLeft">&#160;</td><td class="mdescRight">The shared pointer type of the DB entry. <br /></td></tr>
<tr class="separator:a2246664173218bda21d66d0708e16e49 inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7892307d21aa2af90bc5a4a5507d46b inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="memItemLeft" align="right" valign="top"><a id="af7892307d21aa2af90bc5a4a5507d46b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af7892307d21aa2af90bc5a4a5507d46b">KeyListType</a> = std::vector&lt; std::string &gt;</td></tr>
<tr class="memdesc:af7892307d21aa2af90bc5a4a5507d46b inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="mdescLeft">&#160;</td><td class="mdescRight">An alias for the list of keys to be protected or released. <br /></td></tr>
<tr class="separator:af7892307d21aa2af90bc5a4a5507d46b inherit pub_types_classolp_1_1cache_1_1KeyValueCache"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a586956baf8a9b2072409bc81b70bd6e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a586956baf8a9b2072409bc81b70bd6e9">DefaultCache</a> (<a class="el" href="structolp_1_1cache_1_1CacheSettings.html">CacheSettings</a> settings={})</td></tr>
<tr class="memdesc:a586956baf8a9b2072409bc81b70bd6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the <code><a class="el" href="classolp_1_1cache_1_1DefaultCache.html" title="A default cache that provides a memory LRU cache and persistence of cached key-value pairs.">DefaultCache</a></code> instance.  <a href="classolp_1_1cache_1_1DefaultCache.html#a586956baf8a9b2072409bc81b70bd6e9">More...</a><br /></td></tr>
<tr class="separator:a586956baf8a9b2072409bc81b70bd6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75363a5f7129f4ec2128f5630eda167"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">StorageOpenResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#ac75363a5f7129f4ec2128f5630eda167">Open</a> ()</td></tr>
<tr class="memdesc:ac75363a5f7129f4ec2128f5630eda167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the cache to start read and write operations.  <a href="classolp_1_1cache_1_1DefaultCache.html#ac75363a5f7129f4ec2128f5630eda167">More...</a><br /></td></tr>
<tr class="separator:ac75363a5f7129f4ec2128f5630eda167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024200ba6c845a32e467aa267afe38be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">StorageOpenResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a024200ba6c845a32e467aa267afe38be">Open</a> (<a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a> type)</td></tr>
<tr class="memdesc:a024200ba6c845a32e467aa267afe38be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new cache of the corresponding type.  <a href="classolp_1_1cache_1_1DefaultCache.html#a024200ba6c845a32e467aa267afe38be">More...</a><br /></td></tr>
<tr class="separator:a024200ba6c845a32e467aa267afe38be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f629c6942320a153c3666bddfc0720e"><td class="memItemLeft" align="right" valign="top"><a id="a1f629c6942320a153c3666bddfc0720e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a1f629c6942320a153c3666bddfc0720e">Close</a> ()</td></tr>
<tr class="memdesc:a1f629c6942320a153c3666bddfc0720e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the cache. <br /></td></tr>
<tr class="separator:a1f629c6942320a153c3666bddfc0720e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e8449a2eba212b05ea1b41ece4f44c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a39e8449a2eba212b05ea1b41ece4f44c">Close</a> (<a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a> type)</td></tr>
<tr class="memdesc:a39e8449a2eba212b05ea1b41ece4f44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the cache internally so that it is not keept open and thus blocking others from accessing it.  <a href="classolp_1_1cache_1_1DefaultCache.html#a39e8449a2eba212b05ea1b41ece4f44c">More...</a><br /></td></tr>
<tr class="separator:a39e8449a2eba212b05ea1b41ece4f44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84b3ecb139198c77a028282bd531b30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#aa84b3ecb139198c77a028282bd531b30">Clear</a> ()</td></tr>
<tr class="memdesc:aa84b3ecb139198c77a028282bd531b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the cache content.  <a href="classolp_1_1cache_1_1DefaultCache.html#aa84b3ecb139198c77a028282bd531b30">More...</a><br /></td></tr>
<tr class="separator:aa84b3ecb139198c77a028282bd531b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24ee216208ea553a33796c1ed1162f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#ac24ee216208ea553a33796c1ed1162f9">Compact</a> ()</td></tr>
<tr class="memdesc:ac24ee216208ea553a33796c1ed1162f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compacts the underlying mutable cache storage.  <a href="classolp_1_1cache_1_1DefaultCache.html#ac24ee216208ea553a33796c1ed1162f9">More...</a><br /></td></tr>
<tr class="separator:ac24ee216208ea553a33796c1ed1162f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5692486699eab55b5607da6944e4d56a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a5692486699eab55b5607da6944e4d56a">Put</a> (const std::string &amp;key, const boost::any &amp;value, const Encoder &amp;encoder, time_t expiry) override</td></tr>
<tr class="memdesc:a5692486699eab55b5607da6944e4d56a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the key-value pair in the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#a5692486699eab55b5607da6944e4d56a">More...</a><br /></td></tr>
<tr class="separator:a5692486699eab55b5607da6944e4d56a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd91a9678a9e8fab80ce92d00cf9b9e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#afd91a9678a9e8fab80ce92d00cf9b9e6">Put</a> (const std::string &amp;key, const <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a2246664173218bda21d66d0708e16e49">KeyValueCache::ValueTypePtr</a> value, time_t expiry) override</td></tr>
<tr class="memdesc:afd91a9678a9e8fab80ce92d00cf9b9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the raw binary data as a value in the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#afd91a9678a9e8fab80ce92d00cf9b9e6">More...</a><br /></td></tr>
<tr class="separator:afd91a9678a9e8fab80ce92d00cf9b9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d46b47fcefad5e52d692be938ed416e"><td class="memItemLeft" align="right" valign="top">boost::any&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a8d46b47fcefad5e52d692be938ed416e">Get</a> (const std::string &amp;key, const Decoder &amp;decoder) override</td></tr>
<tr class="memdesc:a8d46b47fcefad5e52d692be938ed416e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the key-value pair from the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#a8d46b47fcefad5e52d692be938ed416e">More...</a><br /></td></tr>
<tr class="separator:a8d46b47fcefad5e52d692be938ed416e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55124936407af6e7c1194b305d85ea6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a2246664173218bda21d66d0708e16e49">KeyValueCache::ValueTypePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#ac55124936407af6e7c1194b305d85ea6">Get</a> (const std::string &amp;key) override</td></tr>
<tr class="memdesc:ac55124936407af6e7c1194b305d85ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the key and binary data from the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#ac55124936407af6e7c1194b305d85ea6">More...</a><br /></td></tr>
<tr class="separator:ac55124936407af6e7c1194b305d85ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c247adfa02907f6472dc5dbc0de7bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a63c247adfa02907f6472dc5dbc0de7bb">Remove</a> (const std::string &amp;key) override</td></tr>
<tr class="memdesc:a63c247adfa02907f6472dc5dbc0de7bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the key-value pair from the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#a63c247adfa02907f6472dc5dbc0de7bb">More...</a><br /></td></tr>
<tr class="separator:a63c247adfa02907f6472dc5dbc0de7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a362956bcd371134073726c5c749e4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a2a362956bcd371134073726c5c749e4e">RemoveKeysWithPrefix</a> (const std::string &amp;prefix) override</td></tr>
<tr class="memdesc:a2a362956bcd371134073726c5c749e4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the values with the keys that match the given prefix from the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#a2a362956bcd371134073726c5c749e4e">More...</a><br /></td></tr>
<tr class="separator:a2a362956bcd371134073726c5c749e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09a6d8f95f1534165722698e0d13f5e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#ac09a6d8f95f1534165722698e0d13f5e">Contains</a> (const std::string &amp;key) const override</td></tr>
<tr class="memdesc:ac09a6d8f95f1534165722698e0d13f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if key is in the cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#ac09a6d8f95f1534165722698e0d13f5e">More...</a><br /></td></tr>
<tr class="separator:ac09a6d8f95f1534165722698e0d13f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16109d3d822f690a24f2e7dae78d3675"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a16109d3d822f690a24f2e7dae78d3675">Protect</a> (const <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af7892307d21aa2af90bc5a4a5507d46b">KeyValueCache::KeyListType</a> &amp;keys) override</td></tr>
<tr class="memdesc:a16109d3d822f690a24f2e7dae78d3675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protects keys from eviction.  <a href="classolp_1_1cache_1_1DefaultCache.html#a16109d3d822f690a24f2e7dae78d3675">More...</a><br /></td></tr>
<tr class="separator:a16109d3d822f690a24f2e7dae78d3675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3062f265d99e4e1c8502ea0b61807fd9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a3062f265d99e4e1c8502ea0b61807fd9">Release</a> (const <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af7892307d21aa2af90bc5a4a5507d46b">KeyValueCache::KeyListType</a> &amp;keys) override</td></tr>
<tr class="memdesc:a3062f265d99e4e1c8502ea0b61807fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a list of keys from protection.  <a href="classolp_1_1cache_1_1DefaultCache.html#a3062f265d99e4e1c8502ea0b61807fd9">More...</a><br /></td></tr>
<tr class="separator:a3062f265d99e4e1c8502ea0b61807fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c5f103266b76c947f2429822c391f45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a7c5f103266b76c947f2429822c391f45">IsProtected</a> (const std::string &amp;key) const override</td></tr>
<tr class="memdesc:a7c5f103266b76c947f2429822c391f45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if key is protected.  <a href="classolp_1_1cache_1_1DefaultCache.html#a7c5f103266b76c947f2429822c391f45">More...</a><br /></td></tr>
<tr class="separator:a7c5f103266b76c947f2429822c391f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4cdea608562f2b98c416423f654902"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a1a4cdea608562f2b98c416423f654902">Size</a> (<a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a> cache_type) const</td></tr>
<tr class="memdesc:a1a4cdea608562f2b98c416423f654902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets size of the corresponding cache.  <a href="classolp_1_1cache_1_1DefaultCache.html#a1a4cdea608562f2b98c416423f654902">More...</a><br /></td></tr>
<tr class="separator:a1a4cdea608562f2b98c416423f654902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d197f524cdf79bb1159e98d06b70c98"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a2d197f524cdf79bb1159e98d06b70c98">Size</a> (uint64_t new_size)</td></tr>
<tr class="memdesc:a2d197f524cdf79bb1159e98d06b70c98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets maximum size for the mutable cache. Evict data that exceeds new maximum size.  <a href="classolp_1_1cache_1_1DefaultCache.html#a2d197f524cdf79bb1159e98d06b70c98">More...</a><br /></td></tr>
<tr class="separator:a2d197f524cdf79bb1159e98d06b70c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classolp_1_1cache_1_1KeyValueCache"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classolp_1_1cache_1_1KeyValueCache')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html">olp::cache::KeyValueCache</a></td></tr>
<tr class="memitem:af0db94d37cab9bea235039b8f7f8ed1b inherit pub_static_attribs_classolp_1_1cache_1_1KeyValueCache"><td class="memItemLeft" align="right" valign="top">static constexpr time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af0db94d37cab9bea235039b8f7f8ed1b">kDefaultExpiry</a> = std::numeric_limits&lt;time_t&gt;::max()</td></tr>
<tr class="memdesc:af0db94d37cab9bea235039b8f7f8ed1b inherit pub_static_attribs_classolp_1_1cache_1_1KeyValueCache"><td class="mdescLeft">&#160;</td><td class="mdescRight">The expiry time of the key-value pair.  <a href="classolp_1_1cache_1_1KeyValueCache.html#af0db94d37cab9bea235039b8f7f8ed1b">More...</a><br /></td></tr>
<tr class="separator:af0db94d37cab9bea235039b8f7f8ed1b inherit pub_static_attribs_classolp_1_1cache_1_1KeyValueCache"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A default cache that provides a memory LRU cache and persistence of cached key-value pairs. </p>
<dl class="section note"><dt>Note</dt><dd>By default, the downloaded data is cached only in memory. To enable the persistent cache, define <code>olp::cache::CacheSettings::disk_path</code>. On iOS, the path is relative to the application data folder.</dd></dl>
<p>The default maximum size of the persistent cache is 32 MB. If the entire available disk space should be used, set <code><a class="el" href="structolp_1_1cache_1_1CacheSettings.html#a51eaa0afe7a35dd968f1d765caa662e3" title="Sets the upper limit (in bytes) of the disk space that is used for persistent stores.">olp::cache::CacheSettings::max_disk_storage</a></code> to -1. The implementation of the default persistent cache is based on <a href="https://github.com/google/leveldb">LevelDB</a>. Due to the known LevelDB limitation, the default cache can be accessed only by one process exclusively.</p>
<p>By default, the maximum size of the memory cache is 1MB. To change it, set <code><a class="el" href="structolp_1_1cache_1_1CacheSettings.html#a7df952f9f0e65b898065e884dd864e47" title="Sets the upper limit of the memory data cache size (in bytes).">olp::cache::CacheSettings::max_memory_cache_size</a></code> to the desired value. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a103a09b4dec53cbefc6ee9415089c90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103a09b4dec53cbefc6ee9415089c90c">&#9670;&nbsp;</a></span>CacheType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">olp::cache::DefaultCache::CacheType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The cache type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a103a09b4dec53cbefc6ee9415089c90ca32567d9e5f2d66c9b326c45e800abcf6"></a>kMutable&#160;</td><td class="fielddoc"><p>The mutable cache type. </p>
</td></tr>
<tr><td class="fieldname"><a id="a103a09b4dec53cbefc6ee9415089c90ca29b22e010bf2edfbf57a7a03522a64c9"></a>kProtected&#160;</td><td class="fielddoc"><p>The protected cache type. </p>
</td></tr>
</table>

</div>
</div>
<a id="a4988be6ab65560dc9ceb8da6dbbb0341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4988be6ab65560dc9ceb8da6dbbb0341">&#9670;&nbsp;</a></span>StorageOpenResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">olp::cache::DefaultCache::StorageOpenResult</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The storage open result type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4988be6ab65560dc9ceb8da6dbbb0341a72d18168a53d3ce7ed0ff8eafff31edd"></a>Success&#160;</td><td class="fielddoc"><p>The operation succeeded. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4988be6ab65560dc9ceb8da6dbbb0341a579665cceae447b9791c974dc1628607"></a>OpenDiskPathFailure&#160;</td><td class="fielddoc"><p>The disk cache failure. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4988be6ab65560dc9ceb8da6dbbb0341a4f035d10712bb9e6b95df733fef9ec56"></a>ProtectedCacheCorrupted&#160;</td><td class="fielddoc"><p>The protected disk cache is corrupted. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4988be6ab65560dc9ceb8da6dbbb0341a9971133c6486f5ab31af8a199c0fcd9b"></a>NotReady&#160;</td><td class="fielddoc"><p>The <a class="el" href="classolp_1_1cache_1_1DefaultCache.html" title="A default cache that provides a memory LRU cache and persistence of cached key-value pairs.">DefaultCache</a> is closed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a586956baf8a9b2072409bc81b70bd6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a586956baf8a9b2072409bc81b70bd6e9">&#9670;&nbsp;</a></span>DefaultCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">olp::cache::DefaultCache::DefaultCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structolp_1_1cache_1_1CacheSettings.html">CacheSettings</a>&#160;</td>
          <td class="paramname"><em>settings</em> = <code>{}</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the <code><a class="el" href="classolp_1_1cache_1_1DefaultCache.html" title="A default cache that provides a memory LRU cache and persistence of cached key-value pairs.">DefaultCache</a></code> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>The cache settings. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa84b3ecb139198c77a028282bd531b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84b3ecb139198c77a028282bd531b30">&#9670;&nbsp;</a></span>Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the cache content. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the operation is successful; false otherwise. </dd></dl>

</div>
</div>
<a id="a39e8449a2eba212b05ea1b41ece4f44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39e8449a2eba212b05ea1b41ece4f44c">&#9670;&nbsp;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the cache internally so that it is not keept open and thus blocking others from accessing it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of cache to close.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the cache was closed successfully; false otherwise. </dd></dl>

</div>
</div>
<a id="ac24ee216208ea553a33796c1ed1162f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac24ee216208ea553a33796c1ed1162f9">&#9670;&nbsp;</a></span>Compact()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void olp::cache::DefaultCache::Compact </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compacts the underlying mutable cache storage. </p>
<p>In particular, deleted and overwritten versions are discarded, and the data is rearranged to reduce the cost of operations needed to access the data. In some cases this operation might take a very long time, so use with care. You generally don't have to call this, but it can be useful to optimize preloaded databases or compact before you shut down the system to ensure quick startup time.</p>
<dl class="section note"><dt>Note</dt><dd>This operation is blocking and under mutex lock blocking any other operation in parallel for the time of the compacting operation. Be aware that automatic asynchronous compacting operation is triggered internally once the database size exceeds the <a class="el" href="structolp_1_1cache_1_1CacheSettings.html#a51eaa0afe7a35dd968f1d765caa662e3" title="Sets the upper limit (in bytes) of the disk space that is used for persistent stores.">CacheSettings::max_disk_storage</a> size.</dd>
<dd>
After the compaction is finished the cache is checked on level-0 file presence. If there are still some files present another round of compaction is performed. </dd></dl>

</div>
</div>
<a id="ac09a6d8f95f1534165722698e0d13f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09a6d8f95f1534165722698e0d13f5e">&#9670;&nbsp;</a></span>Contains()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Contains </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if key is in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key for the value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the key/value cached ; false otherwise. </dd></dl>

<p>Reimplemented from <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a9aae8dd20f3c530a1f99162ba6f189ad">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="ac55124936407af6e7c1194b305d85ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55124936407af6e7c1194b305d85ea6">&#9670;&nbsp;</a></span>Get() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a2246664173218bda21d66d0708e16e49">KeyValueCache::ValueTypePtr</a> olp::cache::DefaultCache::Get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the key and binary data from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key that is used to look for the binary data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The key and binary data. </dd></dl>

<p>Implements <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a1784b959cf46cfa4e8f728bf0daf47ec">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a8d46b47fcefad5e52d692be938ed416e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d46b47fcefad5e52d692be938ed416e">&#9670;&nbsp;</a></span>Get() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::any olp::cache::DefaultCache::Get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Decoder &amp;&#160;</td>
          <td class="paramname"><em>decoder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the key-value pair from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key that is used to look for the key-value pair. </td></tr>
    <tr><td class="paramname">decoder</td><td>Decodes the value from a string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The key-value pair. </dd></dl>

<p>Implements <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a3400a61c3291c239e75e7fa52360330a">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a7c5f103266b76c947f2429822c391f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c5f103266b76c947f2429822c391f45">&#9670;&nbsp;</a></span>IsProtected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::IsProtected </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if key is protected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key or prefix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the key are in the protected list; false otherwise. </dd></dl>

<p>Reimplemented from <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#ae8df94f80648c92347e129e07fa451fa">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="ac75363a5f7129f4ec2128f5630eda167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac75363a5f7129f4ec2128f5630eda167">&#9670;&nbsp;</a></span>Open() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">StorageOpenResult</a> olp::cache::DefaultCache::Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the cache to start read and write operations. </p>
<dl class="section return"><dt>Returns</dt><dd><code>StorageOpenResult</code> if there are problems opening any of the provided paths on the disk.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the cache cannot be opened or repaired, it is deleted. </dd></dl>

</div>
</div>
<a id="a024200ba6c845a32e467aa267afe38be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024200ba6c845a32e467aa267afe38be">&#9670;&nbsp;</a></span>Open() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a4988be6ab65560dc9ceb8da6dbbb0341">StorageOpenResult</a> olp::cache::DefaultCache::Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new cache of the corresponding type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of cache to open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>Success</code> if the cache is created or already open, <code>NotReady</code> if <code><a class="el" href="classolp_1_1cache_1_1DefaultCache.html" title="A default cache that provides a memory LRU cache and persistence of cached key-value pairs.">DefaultCache</a></code> is closed, and <code>OpenDiskPathFailure</code> if there are problems opening the provided path on the disk.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the cache cannot be opened or repaired, it is deleted. </dd></dl>

</div>
</div>
<a id="a16109d3d822f690a24f2e7dae78d3675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16109d3d822f690a24f2e7dae78d3675">&#9670;&nbsp;</a></span>Protect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Protect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af7892307d21aa2af90bc5a4a5507d46b">KeyValueCache::KeyListType</a> &amp;&#160;</td>
          <td class="paramname"><em>keys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Protects keys from eviction. </p>
<p>You can use keys or prefixes to protect single keys or entire catalogs, layers, or version.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keys</td><td>The list of keys or prefixes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the keys are added to the protected list; false otherwise. </dd></dl>

<p>Reimplemented from <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af0b0b4f5e8e24eab79ce2d4633833e2c">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a5692486699eab55b5607da6944e4d56a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5692486699eab55b5607da6944e4d56a">&#9670;&nbsp;</a></span>Put() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Put </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::any &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Encoder &amp;&#160;</td>
          <td class="paramname"><em>encoder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>expiry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the key-value pair in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key for this value. </td></tr>
    <tr><td class="paramname">value</td><td>The value of any type. </td></tr>
    <tr><td class="paramname">encoder</td><td>Encodes the specified value into a string. </td></tr>
    <tr><td class="paramname">expiry</td><td>The expiry time (in seconds) of the key-value pair.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation is successful; false otherwise. </dd></dl>

<p>Implements <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a2f9d15180680cfb0537d70d3264ce590">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="afd91a9678a9e8fab80ce92d00cf9b9e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd91a9678a9e8fab80ce92d00cf9b9e6">&#9670;&nbsp;</a></span>Put() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Put </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a2246664173218bda21d66d0708e16e49">KeyValueCache::ValueTypePtr</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>expiry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the raw binary data as a value in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key for this value. </td></tr>
    <tr><td class="paramname">value</td><td>The binary data that should be stored. </td></tr>
    <tr><td class="paramname">expiry</td><td>The expiry time (in seconds) of the key-value pair.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation is successful; false otherwise. </dd></dl>

<p>Implements <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a668f4c63e5ae1f723a89730b0a39d518">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a3062f265d99e4e1c8502ea0b61807fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3062f265d99e4e1c8502ea0b61807fd9">&#9670;&nbsp;</a></span>Release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Release </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#af7892307d21aa2af90bc5a4a5507d46b">KeyValueCache::KeyListType</a> &amp;&#160;</td>
          <td class="paramname"><em>keys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a list of keys from protection. </p>
<p>The provided keys can be full keys or prefixes only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keys</td><td>The list of keys or prefixes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the keys are removed from the protected list; false otherwise. </dd></dl>

<p>Reimplemented from <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a7dd59cc35db4c607e9ead1be99be81c9">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a63c247adfa02907f6472dc5dbc0de7bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c247adfa02907f6472dc5dbc0de7bb">&#9670;&nbsp;</a></span>Remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::Remove </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the key-value pair from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key for the value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation is successful; false otherwise. </dd></dl>

<p>Implements <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#a697030446468f24895b70fcbb2415e45">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a2a362956bcd371134073726c5c749e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a362956bcd371134073726c5c749e4e">&#9670;&nbsp;</a></span>RemoveKeysWithPrefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool olp::cache::DefaultCache::RemoveKeysWithPrefix </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes the values with the keys that match the given prefix from the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>The prefix that matches the keys.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the values are removed; false otherwise. </dd></dl>

<p>Implements <a class="el" href="classolp_1_1cache_1_1KeyValueCache.html#aa7d086a6ee415431480f4d85809b1fad">olp::cache::KeyValueCache</a>.</p>

</div>
</div>
<a id="a1a4cdea608562f2b98c416423f654902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a4cdea608562f2b98c416423f654902">&#9670;&nbsp;</a></span>Size() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t olp::cache::DefaultCache::Size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classolp_1_1cache_1_1DefaultCache.html#a103a09b4dec53cbefc6ee9415089c90c">CacheType</a>&#160;</td>
          <td class="paramname"><em>cache_type</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets size of the corresponding cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache_type</td><td>The type of a cache.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of the corresponding cache. </dd></dl>

</div>
</div>
<a id="a2d197f524cdf79bb1159e98d06b70c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d197f524cdf79bb1159e98d06b70c98">&#9670;&nbsp;</a></span>Size() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t olp::cache::DefaultCache::Size </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>new_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets maximum size for the mutable cache. Evict data that exceeds new maximum size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_size</td><td>The new maximum size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The size of the evicted data. If no data evicted return 0u.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Currently this operation may take a lot of time and RAM to finish. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>olp-cpp-sdk-core/include/olp/core/cache/<a class="el" href="DefaultCache_8h_source.html">DefaultCache.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
